---
layout: default
title: Speed Test
weight: 3
permalink: /features/speedtest/
---

<div id="container">
      <h1>Internet Speed Test</h1>
      <div id="downloadSpeed">Download Speed: <span id="downloadResult">0 Mbps</span></div>
      <div id="uploadSpeed">Upload Speed: <span id="uploadResult">0 Mbps</span></div>
      <div id="ping">Ping: <span id="pingResult">0 ms</span></div>
    </div>
<script>
  // Function to measure download speed
  function measureDownloadSpeed() {
    var startTime, endTime;
    var download = new Image();
    var downloadSize = 100000; // Size of the file to be downloaded in bytes

    download.onload = function() {
      endTime = new Date().getTime();
      var duration = (endTime - startTime) / 1000;
      var bitsLoaded = downloadSize * 8;
      var speedBps = (bitsLoaded / duration).toFixed(2);
      var speedKbps = (speedBps / 1024).toFixed(2);
      var speedMbps = (speedKbps / 1024).toFixed(2);

      document.getElementById("downloadResult").innerHTML = speedMbps + " Mbps";
    };

    startTime = new Date().getTime();
    download.src = "randomByteGenerator.php?n=" + downloadSize;
  }

  // Function to measure upload speed
  function measureUploadSpeed() {
    var startTime, endTime;
    var file = new Blob(["test"], { type: "text/plain" });
    var fileSize = file.size;
    var xhr = new XMLHttpRequest();

    xhr.onreadystatechange = function() {
      if (xhr.readyState === XMLHttpRequest.DONE) {
        endTime = new Date().getTime();
        var duration = (endTime - startTime) / 1000;
        var bitsLoaded = fileSize * 8;
        var speedBps = (bitsLoaded / duration).toFixed(2);
        var speedKbps = (speedBps / 1024).toFixed(2);
        var speedMbps = (speedKbps / 1024).toFixed(2);

        document.getElementById("uploadResult").innerHTML = speedMbps + " Mbps";
      }
    };

    startTime = new Date().getTime();
    xhr.open("POST", "upload.php", true);
    xhr.send(file);
  }

  // Function to measure latency
  function measureLatency() {
    var startTime, endTime;
    var latencyTest = new Image();

    latencyTest.onload = function() {
      endTime = new Date().getTime();
      var duration = (endTime - startTime).toFixed(0);
      document.getElementById("pingResult").innerHTML = duration + " ms";
    };

    startTime = new Date().getTime();
    latencyTest.src = "ping.php";
  }

  // Call the functions to measure the speeds and latency
  measureDownloadSpeed();
  measureUploadSpeed();
  measureLatency();
</script>
 
